import classNames from 'classnames';
import { FollowerNotification } from 'lib/graphql';
import NextLink from 'next/link';
import React from 'react';
import { Avatar } from './Avatar';
import { Timestamp } from './Timestamp';

interface FollowerNotificationProps {
  notification: FollowerNotification;
  index: number;
}

export const FollowerNotificationItem = ({
  notification: { link, createdAt, followerName, followerPicture },
  index,
}: FollowerNotificationProps) => {
  return (
    <NextLink href={link}>
      <div className={classNames('flex flex-col p-4', index % 2 === 0 ? 'bg-gray-25' : 'bg-gray-20')}>
        <div className="break-words flex">
          <div className="flex items-center pr-4">
            <Avatar src={followerPicture} pixels={40} />
            <div className="relative">
              <NewFollowerBadge className="absolute -right-1" />
            </div>
          </div>
          <div>
            <div className="text-gray-100  flex text-sm">
              <div className="font-semibold">{followerName}</div>&nbsp;started following you.
            </div>
            <Timestamp small datetime={createdAt} className="text-sm" />
          </div>
        </div>
      </div>
    </NextLink>
  );
};

function NewFollowerBadge(props: React.SVGProps<SVGSVGElement>) {
  return (
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" {...props}>
      <circle cx="10" cy="10" r="10" fill="#90FF75" />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M14.75 9.25C14.8229 9.25 14.8828 9.27344 14.9297 9.32031C14.9766 9.36719 15 9.42708 15 9.5V10C15 10.0729 14.9766 10.1328 14.9297 10.1797C14.8828 10.2266 14.8229 10.25 14.75 10.25H13.75V11.25C13.75 11.3229 13.7266 11.3828 13.6797 11.4297C13.6328 11.4766 13.5729 11.5 13.5 11.5H13C12.9271 11.5 12.8672 11.4766 12.8203 11.4297C12.7734 11.3828 12.75 11.3229 12.75 11.25V10.25H11.75C11.6771 10.25 11.6172 10.2266 11.5703 10.1797C11.5234 10.1328 11.5 10.0729 11.5 10V9.5C11.5 9.42708 11.5234 9.36719 11.5703 9.32031C11.6172 9.27344 11.6771 9.25 11.75 9.25H12.75V8.25C12.75 8.17708 12.7734 8.11719 12.8203 8.07031C12.8672 8.02344 12.9271 8 13 8H13.5C13.5729 8 13.6328 8.02344 13.6797 8.07031C13.7266 8.11719 13.75 8.17708 13.75 8.25V9.25H14.75ZM8.5 10C8.13542 10 7.79948 9.91146 7.49219 9.73438C7.1849 9.55729 6.94271 9.3151 6.76562 9.00781C6.58854 8.70052 6.5 8.36458 6.5 8C6.5 7.63542 6.58854 7.29948 6.76562 6.99219C6.94271 6.6849 7.1849 6.44271 7.49219 6.26562C7.79948 6.08854 8.13542 6 8.5 6C8.86458 6 9.20052 6.08854 9.50781 6.26562C9.8151 6.44271 10.0573 6.6849 10.2344 6.99219C10.4115 7.29948 10.5 7.63542 10.5 8C10.5 8.36458 10.4115 8.70052 10.2344 9.00781C10.0573 9.3151 9.8151 9.55729 9.50781 9.73438C9.20052 9.91146 8.86458 10 8.5 10ZM9.90625 10.5C10.2812 10.5 10.6302 10.5938 10.9531 10.7812C11.276 10.9688 11.5312 11.224 11.7188 11.5469C11.9062 11.8698 12 12.2188 12 12.5938V13.25C12 13.4583 11.9271 13.6354 11.7812 13.7812C11.6354 13.9271 11.4583 14 11.25 14H5.75C5.54167 14 5.36458 13.9271 5.21875 13.7812C5.07292 13.6354 5 13.4583 5 13.25V12.5938C5 12.2188 5.09375 11.8698 5.28125 11.5469C5.46875 11.224 5.72396 10.9688 6.04688 10.7812C6.36979 10.5938 6.71875 10.5 7.09375 10.5H7.35938C7.72396 10.6667 8.10417 10.75 8.5 10.75C8.89583 10.75 9.27604 10.6667 9.64062 10.5H9.90625Z"
        fill="#252525"
      />
      <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="5" y="6" width="10" height="8">
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M14.75 9.25C14.8229 9.25 14.8828 9.27344 14.9297 9.32031C14.9766 9.36719 15 9.42708 15 9.5V10C15 10.0729 14.9766 10.1328 14.9297 10.1797C14.8828 10.2266 14.8229 10.25 14.75 10.25H13.75V11.25C13.75 11.3229 13.7266 11.3828 13.6797 11.4297C13.6328 11.4766 13.5729 11.5 13.5 11.5H13C12.9271 11.5 12.8672 11.4766 12.8203 11.4297C12.7734 11.3828 12.75 11.3229 12.75 11.25V10.25H11.75C11.6771 10.25 11.6172 10.2266 11.5703 10.1797C11.5234 10.1328 11.5 10.0729 11.5 10V9.5C11.5 9.42708 11.5234 9.36719 11.5703 9.32031C11.6172 9.27344 11.6771 9.25 11.75 9.25H12.75V8.25C12.75 8.17708 12.7734 8.11719 12.8203 8.07031C12.8672 8.02344 12.9271 8 13 8H13.5C13.5729 8 13.6328 8.02344 13.6797 8.07031C13.7266 8.11719 13.75 8.17708 13.75 8.25V9.25H14.75ZM8.5 10C8.13542 10 7.79948 9.91146 7.49219 9.73438C7.1849 9.55729 6.94271 9.3151 6.76562 9.00781C6.58854 8.70052 6.5 8.36458 6.5 8C6.5 7.63542 6.58854 7.29948 6.76562 6.99219C6.94271 6.6849 7.1849 6.44271 7.49219 6.26562C7.79948 6.08854 8.13542 6 8.5 6C8.86458 6 9.20052 6.08854 9.50781 6.26562C9.8151 6.44271 10.0573 6.6849 10.2344 6.99219C10.4115 7.29948 10.5 7.63542 10.5 8C10.5 8.36458 10.4115 8.70052 10.2344 9.00781C10.0573 9.3151 9.8151 9.55729 9.50781 9.73438C9.20052 9.91146 8.86458 10 8.5 10ZM9.90625 10.5C10.2812 10.5 10.6302 10.5938 10.9531 10.7812C11.276 10.9688 11.5312 11.224 11.7188 11.5469C11.9062 11.8698 12 12.2188 12 12.5938V13.25C12 13.4583 11.9271 13.6354 11.7812 13.7812C11.6354 13.9271 11.4583 14 11.25 14H5.75C5.54167 14 5.36458 13.9271 5.21875 13.7812C5.07292 13.6354 5 13.4583 5 13.25V12.5938C5 12.2188 5.09375 11.8698 5.28125 11.5469C5.46875 11.224 5.72396 10.9688 6.04688 10.7812C6.36979 10.5938 6.71875 10.5 7.09375 10.5H7.35938C7.72396 10.6667 8.10417 10.75 8.5 10.75C8.89583 10.75 9.27604 10.6667 9.64062 10.5H9.90625Z"
          fill="white"
        />
      </mask>
      <g mask="url(#mask0)">
        <rect width="10" height="10" transform="translate(5 5)" fill="#101010" />
        <rect x="5" y="5" width="10" height="10" fill="#252525" />
      </g>
    </svg>
  );
}
